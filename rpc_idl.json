{
  "idl_version": 1,

  "jsonrpc": "2.0",

  "service": "rpc-demo",

  "protocol_version": 1,

  "functions": [
    {
      "method": "ping",
      "description": "Return a simple string for connectivity test",
      "params": {
        "type": "object",
        "properties": {},
        "required": [],
        "additionalProperties": false
      },
      "result": { "type": "string" }
    },
    {
      "method": "add_i32",
      "description": "Return a + b (i32)",
      "params": {
        "type": "object",
        "properties": {
          "a": { "type": "i32" },
          "b": { "type": "i32" }
        },
        "required": ["a", "b"],
        "additionalProperties": false
      },
      "result": { "type": "i32" }
    },
    {
      "method": "mul_double",
      "description": "Return a * b (double)",
      "params": {
        "type": "object",
        "properties": {
          "a": { "type": "double" },
          "b": { "type": "double" }
        },
        "required": ["a", "b"],
        "additionalProperties": false
      },
      "result": { "type": "double" }
    },
    {
      "method": "is_even",
      "description": "Return true if n is even",
      "params": {
        "type": "object",
        "properties": {
          "n": { "type": "i32" }
        },
        "required": ["n"],
        "additionalProperties": false
      },
      "result": { "type": "bool" }
    },
    {
      "method": "strlen_s",
      "description": "Return length of s (bytes)",
      "params": {
        "type": "object",
        "properties": {
          "s": { "type": "string" }
        },
        "required": ["s"],
        "additionalProperties": false
      },
      "result": { "type": "i32" }
    },
    {
      "method": "mix3",
      "description": "Return a formatted string mixing i32/double/bool",
      "params": {
        "type": "object",
        "properties": {
          "a": { "type": "i32" },
          "b": { "type": "double" },
          "ok": { "type": "bool" }
        },
        "required": ["a", "b", "ok"],
        "additionalProperties": false
      },
      "result": { "type": "string" }
    }
  ],

  "types": {
    "i32": { "c_type": "int32_t" },
    "i64": { "c_type": "int64_t" },
    "bool": { "c_type": "bool" },
    "double": { "c_type": "double" },
    "string": { "c_type": "const char*" }
  }
}
